#!/bin/bash
export PS4='+(${BASH_SOURCE}:${LINENO}): ${FUNCNAME[0]:+${FUNCNAME[0]}(): }'

readonly argv0=aursync
readonly pwd=$PWD

while read -r target; do
    if cd "$pwd/$target" 2>/dev/null; then
        if ! git pull -v; then
            exit 1
        fi
    else
        if ! git clone -v https://aur.archlinux.org/"$target".git; then
            exit 1
        fi
    fi
done
