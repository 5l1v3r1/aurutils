#!/bin/bash -
readonly argv0=officer
readonly PATH=/bin:/usr/bin
readonly PS4='+(${BASH_SOURCE}:${LINENO}): ${FUNCNAME[0]:+${FUNCNAME[0]}(): }'

build_config() {
    printf '%s\n' '[options]'
    pacconf --raw --options

    for i in core testing extra community community-testing multilib multilib-testing; do
        if pacconf --repo="$i" >/dev/null 2>&1; then
            printf '%s\n' "[$i]"
            pacconf --raw --repo="$i"
        fi
    done
}
readonly -f build_config

pacman --config=<(build_config) "$@"

# vim: set et sw=4 sts=4 ft=sh:
